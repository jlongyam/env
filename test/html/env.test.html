<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>test: env</title>
</head>
<body>
  <h1><pre></pre></h1>
  <script type="module">
    import envContext from '../../src/envContext.js';
    import envGlobal from '../../src/envGlobal.js';

    const pre = document.querySelector('pre');
    const worker = new Worker('../worker/env.test.js', { type: 'module' });

    pre.innerHTML += 'Browser:<br>';
    pre.innerHTML += JSON.stringify(envContext,0,2)+'<br>';
    pre.innerHTML += 'envGlobal === window: '+(envGlobal === window)+'<br>';

    pre.innerHTML += '<br>';
    
    pre.innerHTML += 'Worker:<br>';
    worker.addEventListener('message', (event)=> {
      pre.innerHTML += JSON.stringify(event.data.envContext,0,2)+'<br>';
      pre.innerHTML += 'envGlobal === self: '+event.data.envGlobal+'<br>';
    });
  </script>
</body>
</html>